import{j as U,r as M,c as a,o as n,a as V,d as r,i,h,t as d,k as p,e as t,v as c,n as u,l as A,w as R,b as T,F as j,m as w,p as z}from"./app-RABvWGqE.js";import{d as x}from"./index-CpbmKY-2.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F=U({components:{Head:x.Head,Link:x.Link},setup(){const s=x.useForm({first_name:"",last_name:"",email:"",password:"",password_confirmation:"",terms:!1}),e=w(!1),f=w({}),k=w(!1),C=w(!1);return{form:s,errors:f,isLoading:e,submit:async()=>{var g,b,o,S,L,P;e.value=!0,f.value={},console.log("Submitting registration with data:",{first_name:s.first_name,last_name:s.last_name,email:s.email,password:s.password,password_confirmation:s.password_confirmation,terms:s.terms});try{const m=await z.post(route("register"),{name:`${s.first_name} ${s.last_name}`,first_name:s.first_name,last_name:s.last_name,email:s.email,password:s.password,password_confirmation:s.password_confirmation,terms:s.terms});console.log("Registration successful, redirecting..."),window.location.href=route("home")}catch(m){if(console.error("Registration error:",m),console.error("Error response:",(g=m.response)==null?void 0:g.data),((b=m.response)==null?void 0:b.status)===422){const l=m.response.data.errors||{},v={};console.log("Validation errors:",l),Object.keys(l).forEach(y=>{v[y]=Array.isArray(l[y])?l[y][0]:l[y]}),console.log("Formatted errors:",v),f.value=v}else{const l=((S=(o=m.response)==null?void 0:o.data)==null?void 0:S.message)||((P=(L=m.response)==null?void 0:L.data)==null?void 0:P.error)||"An error occurred during registration. Please try again.";console.error("Registration failed:",l),f.value.general=l}}finally{e.value=!1}},showTermsModal:k,showPrivacyModal:C}}}),N={class:"min-h-screen flex items-center justify-center bg-white"},W={class:"max-w-md w-full px-6 py-8"},Y={class:"bg-white rounded-xl shadow-md p-8"},B={key:0,class:"mb-4"},H={key:0,class:"text-sm text-red-600 mb-2"},D={class:"grid grid-cols-2 gap-4 mb-4"},O={class:"mb-4"},_=["disabled"],q={key:0,class:"mt-1 text-sm text-red-600"},I={class:"mb-4"},J=["disabled"],G={key:0,class:"mt-1 text-sm text-red-600"},K={class:"mb-4"},Q=["disabled"],X={key:0,class:"mt-1 text-sm text-red-600"},Z={class:"mb-4"},ss=["disabled"],es={key:0,class:"mt-1 text-sm text-red-600"},rs={class:"text-xs text-gray-500 mt-1"},os={class:"mb-4"},ts=["disabled"],as={key:0,class:"mt-1 text-sm text-red-600"},ns={class:"mb-6"},is={class:"flex items-start"},ls={class:"flex items-center h-5"},ds={class:"ml-3"},ms={for:"terms",class:"block text-sm text-gray-700"},us={key:0,class:"mt-1 text-sm text-red-600"},ps=["disabled"],fs={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},cs={class:"mt-6 text-center"},gs={class:"text-sm text-gray-600"},bs={key:0,class:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center"},ys={class:"bg-white p-6 rounded-xl max-w-lg w-full shadow-lg max-h-[80vh] overflow-y-auto"},ws={class:"mt-6 text-right"},vs={key:1,class:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center"},hs={class:"bg-white p-6 rounded-xl max-w-lg w-full shadow-lg max-h-[80vh] overflow-y-auto"},xs={class:"mt-6 text-right"};function ks(s,e,f,k,C,$){const g=M("Head"),b=M("Link");return n(),a(j,null,[V(g,{title:"Register"}),r("div",N,[r("div",W,[r("div",Y,[e[29]||(e[29]=r("h2",{class:"text-2xl font-bold text-center mb-2"},"Create an account",-1)),e[30]||(e[30]=r("p",{class:"text-center text-gray-600 mb-6"},"Join SkillSwap to start exchanging skills with others",-1)),r("form",{onSubmit:e[8]||(e[8]=h((...o)=>s.submit&&s.submit(...o),["prevent"]))},[Object.keys(s.errors).length>0?(n(),a("div",B,[s.errors.general?(n(),a("div",H,d(s.errors.general),1)):i("",!0)])):i("",!0),r("div",D,[r("div",O,[e[12]||(e[12]=r("label",{for:"first_name",class:"block text-sm font-medium text-gray-700 mb-1"},[t(" First Name "),r("span",{class:"text-red-600"},"*")],-1)),p(r("input",{id:"first_name",type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>s.form.first_name=o),class:u([{"border-red-500":s.errors.first_name,"border-gray-300":!s.errors.first_name,"focus:ring-red-500":s.errors.first_name,"focus:ring-black":!s.errors.first_name},"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2"]),disabled:s.isLoading,autofocus:"",autocomplete:"given-name"},null,10,_),[[c,s.form.first_name]]),s.errors.first_name?(n(),a("p",q,[e[11]||(e[11]=r("span",{class:"font-medium"},"⚠",-1)),t(" "+d(s.errors.first_name),1)])):i("",!0)]),r("div",I,[e[14]||(e[14]=r("label",{for:"last_name",class:"block text-sm font-medium text-gray-700 mb-1"},[t(" Last Name "),r("span",{class:"text-red-600"},"*")],-1)),p(r("input",{id:"last_name",type:"text","onUpdate:modelValue":e[1]||(e[1]=o=>s.form.last_name=o),class:u([{"border-red-500":s.errors.last_name,"border-gray-300":!s.errors.last_name,"focus:ring-red-500":s.errors.last_name,"focus:ring-black":!s.errors.last_name},"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2"]),disabled:s.isLoading,autocomplete:"family-name"},null,10,J),[[c,s.form.last_name]]),s.errors.last_name?(n(),a("p",G,[e[13]||(e[13]=r("span",{class:"font-medium"},"⚠",-1)),t(" "+d(s.errors.last_name),1)])):i("",!0)])]),r("div",K,[e[16]||(e[16]=r("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-1"},[t(" Email "),r("span",{class:"text-red-600"},"*")],-1)),p(r("input",{id:"email",type:"email","onUpdate:modelValue":e[2]||(e[2]=o=>s.form.email=o),class:u([{"border-red-500":s.errors.email,"border-gray-300":!s.errors.email,"focus:ring-red-500":s.errors.email,"focus:ring-black":!s.errors.email},"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2"]),disabled:s.isLoading,autocomplete:"email"},null,10,Q),[[c,s.form.email]]),s.errors.email?(n(),a("p",X,[e[15]||(e[15]=r("span",{class:"font-medium"},"⚠",-1)),t(" "+d(s.errors.email),1)])):i("",!0)]),r("div",Z,[e[19]||(e[19]=r("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-1"},[t(" Password "),r("span",{class:"text-red-600"},"*")],-1)),p(r("input",{id:"password",type:"password","onUpdate:modelValue":e[3]||(e[3]=o=>s.form.password=o),class:u([{"border-red-500":s.errors.password,"border-gray-300":!s.errors.password,"focus:ring-red-500":s.errors.password,"focus:ring-black":!s.errors.password},"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2"]),disabled:s.isLoading,autocomplete:"new-password"},null,10,ss),[[c,s.form.password]]),s.errors.password?(n(),a("p",es,[e[17]||(e[17]=r("span",{class:"font-medium"},"⚠",-1)),t(" "+d(s.errors.password),1)])):i("",!0),r("p",rs,[e[18]||(e[18]=t(" Password must be at least 8 characters long and include: ")),r("span",{class:u({"text-red-600":s.errors.password})}," one uppercase letter, one lowercase letter, one number, and one special character. ",2)])]),r("div",os,[e[21]||(e[21]=r("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 mb-1"},[t(" Confirm Password "),r("span",{class:"text-red-600"},"*")],-1)),p(r("input",{id:"password_confirmation",type:"password","onUpdate:modelValue":e[4]||(e[4]=o=>s.form.password_confirmation=o),class:u([{"border-red-500":s.errors.password_confirmation,"border-gray-300":!s.errors.password_confirmation,"focus:ring-red-500":s.errors.password_confirmation,"focus:ring-black":!s.errors.password_confirmation},"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2"]),disabled:s.isLoading,autocomplete:"new-password"},null,10,ts),[[c,s.form.password_confirmation]]),s.errors.password_confirmation?(n(),a("p",as,[e[20]||(e[20]=r("span",{class:"font-medium"},"⚠",-1)),t(" "+d(s.errors.password_confirmation),1)])):i("",!0)]),r("div",ns,[r("div",is,[r("div",ls,[p(r("input",{id:"terms",type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=o=>s.form.terms=o),class:u([{"border-red-500":s.errors.terms,"border-gray-300":!s.errors.terms,"focus:ring-red-500":s.errors.terms,"focus:ring-black":!s.errors.terms},"h-4 w-4 text-black rounded focus:ring-2 focus:ring-offset-2"])},null,2),[[A,s.form.terms]])]),r("div",ds,[r("label",ms,[e[22]||(e[22]=t(" I agree to the ")),r("a",{href:"#",onClick:e[6]||(e[6]=h(o=>s.showTermsModal=!0,["prevent"])),class:"font-medium text-black hover:underline"}," Terms of Service "),e[23]||(e[23]=t(" and ")),r("a",{href:"#",onClick:e[7]||(e[7]=h(o=>s.showPrivacyModal=!0,["prevent"])),class:"font-medium text-black hover:underline"}," Privacy Policy "),e[24]||(e[24]=r("span",{class:"text-red-600"},"*",-1))]),s.errors.terms?(n(),a("p",us,[e[25]||(e[25]=r("span",{class:"font-medium"},"⚠",-1)),t(" "+d(s.errors.terms),1)])):i("",!0)])])]),r("button",{type:"submit",class:"w-full bg-black text-white font-semibold py-2 rounded-md hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black disabled:opacity-50 flex justify-center items-center",disabled:s.isLoading},[s.isLoading?(n(),a("svg",fs,e[26]||(e[26]=[r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):i("",!0),t(" "+d(s.isLoading?"Creating Account...":"Sign Up"),1)],8,ps)],32),r("div",cs,[r("p",gs,[e[28]||(e[28]=t(" Already have an account? ")),V(b,{href:"/login",class:"text-black hover:underline font-medium"},{default:R(()=>e[27]||(e[27]=[t(" Log in ")])),_:1})])])])])]),s.showTermsModal?(n(),a("div",bs,[r("div",ys,[e[31]||(e[31]=T('<h3 class="text-xl font-bold mb-4">Terms of Service</h3><p class="text-sm text-gray-700 mb-3"> Welcome to SkillSwap! By accessing or using our platform, you agree to comply with and be bound by these Terms of Service. Please read them carefully. </p><p class="text-sm text-gray-700 mb-3"> 1. <strong>Account Responsibility:</strong> You are responsible for maintaining the confidentiality of your account information and for all activities that occur under your account. </p><p class="text-sm text-gray-700 mb-3"> 2. <strong>User Conduct:</strong> You agree not to use SkillSwap for any unlawful or prohibited activities. Respect other users and refrain from harassment, discrimination, or harmful behavior. </p><p class="text-sm text-gray-700 mb-3"> 3. <strong>Content Ownership:</strong> You retain ownership of your content, but grant SkillSwap a license to display and distribute it within the platform. </p><p class="text-sm text-gray-700 mb-3"> 4. <strong>Modifications:</strong> We may update or modify these Terms from time to time. Continued use of the service constitutes acceptance of those changes. </p><p class="text-sm text-gray-700"> For full details, please visit our website or contact support for any questions. </p>',7)),r("div",ws,[r("button",{onClick:e[9]||(e[9]=o=>s.showTermsModal=!1),class:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800"}," Close ")])])])):i("",!0),s.showPrivacyModal?(n(),a("div",vs,[r("div",hs,[e[32]||(e[32]=T('<h3 class="text-xl font-bold mb-4">Privacy Policy</h3><p class="text-sm text-gray-700 mb-3"> At SkillSwap, we value your privacy and are committed to protecting your personal information. </p><p class="text-sm text-gray-700 mb-3"> 1. <strong>Information Collection:</strong> We collect personal data that you provide during registration and use of our services, including your name, email, and profile details. </p><p class="text-sm text-gray-700 mb-3"> 2. <strong>Use of Data:</strong> Your data is used to provide and improve our services, communicate updates, and personalize your experience. </p><p class="text-sm text-gray-700 mb-3"> 3. <strong>Data Sharing:</strong> We do not sell your information to third parties. We may share data with trusted service providers under strict confidentiality agreements. </p><p class="text-sm text-gray-700 mb-3"> 4. <strong>Security:</strong> We implement appropriate technical and organizational measures to safeguard your information. </p><p class="text-sm text-gray-700 mb-3"> 5. <strong>Your Rights:</strong> You can access, correct, or request deletion of your personal data by contacting our support team. </p><p class="text-sm text-gray-700"> For more details, please refer to our full Privacy Policy on the website. </p>',8)),r("div",xs,[r("button",{onClick:e[10]||(e[10]=o=>s.showPrivacyModal=!1),class:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800"}," Close ")])])])):i("",!0)],64)}const Ps=E(F,[["render",ks]]);export{Ps as default};
