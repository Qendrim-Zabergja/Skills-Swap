import{m as x,r as A,c as n,o,d as t,i,F as c,A as p,n as v,t as a,e as r,a as D,w as k,f as B,W as y}from"./app-RABvWGqE.js";const L={class:"min-h-screen bg-gray-100"},M={class:"py-12"},N={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"mb-4 border-b border-gray-200"},I={class:"-mb-px flex","aria-label":"Tabs"},V=["onClick"],$={key:0,class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},O={class:"p-6"},P={key:0,class:"text-gray-500"},T={key:1,class:"space-y-4"},W={class:"flex items-center space-x-4"},Y={class:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-gray-400"},z={class:"text-sm font-medium text-gray-900"},F={class:"text-sm text-gray-500"},E={class:"text-xs text-gray-400 mt-1"},G={key:0,class:"mt-2 text-sm text-gray-600 bg-gray-50 p-2 rounded"},H={class:"flex items-center space-x-2"},J=["onClick"],K=["onClick"],Q={key:1,class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},U={class:"p-6"},X={key:0,class:"text-gray-500"},Z={key:1,class:"space-y-4"},q=["onClick"],ee={class:"flex items-center space-x-4"},te={class:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center text-gray-400"},se={class:"text-sm font-medium text-gray-900"},oe={class:"text-sm text-gray-500"},ne={class:"text-xs text-gray-400 mt-1"},le={key:0,class:"mt-2 text-sm text-gray-600 bg-gray-50 p-2 rounded"},re={__name:"Index",props:{incomingRequests:{type:Array,required:!0},outgoingRequests:{type:Array,required:!0}},setup(w){const _=w,u=x("Swap Requests"),d=x([..._.incomingRequests]),g=x([..._.outgoingRequests]),R=l=>{y.post(route("requests.accept",l),{},{preserveScroll:!0,onSuccess:()=>{d.value=d.value.filter(s=>s.id!==l),alert("Request accepted successfully!")}})},C=l=>{y.post(route("requests.decline",l),{},{preserveScroll:!0,onSuccess:()=>{d.value=d.value.filter(s=>s.id!==l),alert("Request declined successfully!")}})},S=l=>{y.post(route("requests.cancel",l),{},{preserveScroll:!0,onSuccess:()=>{g.value=g.value.filter(s=>s.id!==l),alert("Request cancelled successfully!")}})},h=l=>{const s=l.split(" ");return s[0][0]+s[s.length-1][0]},b=l=>new Date(l).toLocaleDateString();return(l,s)=>{const f=A("Link");return o(),n("div",L,[t("div",M,[t("div",N,[t("div",j,[t("nav",I,[(o(),n(c,null,p(["Swap Requests","Messages"],e=>t("button",{key:e,class:v([u.value===e?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","w-1/4 py-4 px-1 text-center border-b-2 font-medium text-sm"]),onClick:m=>u.value=e},a(e),11,V)),64))])]),u.value==="Swap Requests"?(o(),n("div",$,[t("div",O,[s[3]||(s[3]=t("h2",{class:"text-lg font-semibold mb-4"},"Incoming Requests",-1)),d.value.length===0?(o(),n("div",P," No incoming requests at the moment. ")):(o(),n("div",T,[(o(!0),n(c,null,p(d.value,e=>(o(),n("div",{key:e.id,class:"flex items-center justify-between p-4 bg-white border rounded-lg"},[t("div",W,[t("div",Y,a(h(e.user.name)),1),t("div",null,[t("div",z,a(e.user.name),1),t("div",F,[r(" Wants to learn: "+a(e.skill_wanted)+" ",1),s[0]||(s[0]=t("br",null,null,-1)),r(" Offers to teach: "+a(e.skill_offered),1)]),t("div",E," Received "+a(b(e.created_at)),1),e.message?(o(),n("div",G,a(e.message),1)):i("",!0)])]),t("div",H,[e.status==="Pending"?(o(),n(c,{key:0},[t("button",{onClick:m=>R(e.id),class:"px-3 py-1 text-sm bg-green-100 text-green-700 rounded-md hover:bg-green-200"}," Accept ",8,J),t("button",{onClick:m=>C(e.id),class:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-md hover:bg-red-200"}," Decline ",8,K)],64)):e.status==="Accepted"?(o(),n(c,{key:1},[D(f,{href:l.route("messages.show",e.user.id),class:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200"},{default:k(()=>s[1]||(s[1]=[r(" Message ")])),_:2},1032,["href"]),s[2]||(s[2]=t("div",{class:"text-sm text-green-600"},"Accepted",-1))],64)):(o(),n("div",{key:2,class:v(["text-sm",{"text-red-600":e.status==="Declined","text-gray-600":e.status==="Cancelled"}])},a(e.status),3))])]))),128))]))])])):i("",!0),u.value==="Swap Requests"?(o(),n("div",Q,[t("div",U,[s[7]||(s[7]=t("h2",{class:"text-lg font-semibold mb-4"},"Outgoing Requests",-1)),g.value.length===0?(o(),n("div",X," You haven't sent any requests yet. ")):(o(),n("div",Z,[(o(!0),n(c,null,p(g.value,e=>(o(),n("div",{key:e.id,class:"group relative p-4 bg-white border rounded-lg"},[e.status==="Pending"?(o(),n("button",{key:0,onClick:m=>S(e.id),class:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity p-1 text-gray-700 bg-gray-100 rounded-full shadow-sm z-50 hover:bg-gray-200"},s[4]||(s[4]=[t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,q)):i("",!0),t("div",ee,[t("div",te,a(h(e.recipient.name)),1),t("div",null,[t("div",se,a(e.recipient.name),1),t("div",oe,[r(" You want to learn: "+a(e.skill_wanted)+" ",1),s[5]||(s[5]=t("br",null,null,-1)),r(" You offer to teach: "+a(e.skill_offered),1)]),t("div",ne," Sent "+a(b(e.created_at)),1),e.message?(o(),n("div",le,a(e.message),1)):i("",!0)])]),t("div",{class:v(["mt-2 text-sm",{"text-yellow-600":e.status==="Pending","text-green-600":e.status==="Accepted","text-red-600":e.status==="Declined","text-gray-600":e.status==="Cancelled"}])},[r(a(e.status)+" ",1),e.status==="Accepted"?(o(),B(f,{key:0,href:l.route("messages.show",e.recipient.id),class:"ml-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200"},{default:k(()=>s[6]||(s[6]=[r(" Message ")])),_:2},1032,["href"])):i("",!0)],2)]))),128))]))])])):i("",!0)])])])}}};export{re as default};
