import{j as _,r as v,c as a,o as r,a as c,d as o,b as L,k as E,i as y,v as C,E as M,F as m,A as x,f as S,w as p,e as f,S as $,m as q,t as u}from"./app-RABvWGqE.js";import{d as j}from"./index-CpbmKY-2.js";import{_ as N}from"./Navbar-Co8Gbpgx.js";import{_ as U}from"./SkillExchangeModal-CGpdpZaa.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Modal-iMmTPtjx.js";const F=_({components:{Head:j.Head,Link:$,Navbar:N,SkillExchangeModal:U},props:{canLogin:Boolean,canRegister:Boolean,featuredUsers:{type:Array,default:()=>[]},auth:{type:Object,default:()=>({})}},setup(){return{imageLoadErrors:q(new Set)}},data(){return{searchQuery:"",showSuggestions:!1,searchSuggestions:[],showRequestModal:!1,selectedUser:null}},methods:{openRequestModal(e){this.selectedUser=e,this.showRequestModal=!0},updateSearch(){if(this.searchTimeout&&clearTimeout(this.searchTimeout),this.showSuggestions=this.searchQuery.length>0,!this.showSuggestions){this.searchSuggestions=[];return}const e=this.searchQuery.toLowerCase(),s=new Set;this.featuredUsers.forEach(n=>{n.name.toLowerCase().includes(e)&&s.add(n.name)}),this.featuredUsers.forEach(n=>{var g,h;(g=n.teaching_skills)==null||g.forEach(i=>{i.name.toLowerCase().includes(e)&&s.add(i.name)}),(h=n.learning_skills)==null||h.forEach(i=>{i.name.toLowerCase().includes(e)&&s.add(`Learn: ${i.name}`)})}),this.searchSuggestions=Array.from(s).slice(0,5)},selectSuggestion(e){this.searchQuery=e.replace("Learn: ",""),this.showSuggestions=!1,this.searchSkills()},getInitials(e){return e?e.split(" ").map(s=>s[0]).join("").toUpperCase():""},handleImageError(e){console.log("Image error for user:",e),this.imageLoadErrors.add(e)},hideSuggestions(){setTimeout(()=>{this.showSuggestions=!1},200)},requestSwap(e){var w,k,d;const s=this.$page.props.auth.user,n=this.featuredUsers.find(b=>b.id===e);if(!n)return;const g=prompt("Enter your message for the swap request:");if(!g)return;const h=((w=n.teaching_skills[0])==null?void 0:w.name)||"a skill",i=((d=(k=s.teaching_skills)==null?void 0:k[0])==null?void 0:d.name)||"a skill";this.$inertia.post(route("requests.store"),{recipient_id:e,skill_wanted:h,skill_offered:i,message:g,availability:"Flexible",duration:60},{preserveScroll:!0,onSuccess:()=>{alert("Request sent successfully!")},onError:b=>{console.error("Error sending request:",b),alert("Failed to send request. Please try again.")}})},searchSkills(){if(this.searchQuery.trim()){const e=this.searchQuery.trim().toLowerCase(),s={Development:["development","coding","programming","web"],Design:["design","graphic","ui","ux"],Music:["music","guitar","piano","singing"],Language:["language","english","spanish","german"],Business:["business","marketing","finance"],Lifestyle:["fitness","yoga","cooking"],Photography:["photography","photo","camera"],Education:["education","teaching","tutoring"]};let n=null;for(const[g,h]of Object.entries(s))if(h.some(i=>e.includes(i))){n=g;break}this.$inertia.get(route("skills.browse"),{search:e,...n&&{category:n}},{preserveState:!0,preserveScroll:!0})}}}}),Q={class:"min-h-screen bg-white"},R={class:"py-24 px-4 max-w-full bg-gray-100 mx-auto"},T={class:"text-center mb-20"},A={class:"max-w-xl mx-auto"},D={class:"flex items-center gap-2 relative"},V={class:"flex-1 relative"},H={key:0,class:"absolute z-10 mt-1 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto"},I=["onMousedown"],W={class:"py-8 px-4 max-w-6xl mx-auto"},K={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8"},O={class:"flex items-start justify-between mb-4"},P={class:"flex items-center"},Y={class:"w-12 h-12 rounded-full overflow-hidden mr-4"},z={class:"w-full h-full bg-gray-100 flex items-center justify-center"},G=["src","alt","onError"],J={key:1,class:"text-gray-500 text-sm"},X={class:"font-medium"},Z={class:"text-sm text-gray-500"},ee={class:"flex items-center"},se={class:"flex text-yellow-400"},te={key:0,class:"text-sm"},oe={class:"ml-1 text-gray-600 text-sm"},re={class:"mb-4"},ae={class:"flex flex-wrap gap-2"},ne={key:0,class:"text-xs text-gray-500"},le={key:1,class:"text-xs text-gray-500"},ie={class:"mb-4"},de={class:"flex flex-wrap gap-2"},ue={key:0,class:"text-xs text-gray-500"},ge={key:1,class:"text-xs text-gray-500"},ce={class:"flex items-center justify-between mt-6"},he={class:"text-xs text-gray-500"},me=["onClick"],pe={key:1,class:"text-center py-10 bg-gray-50 rounded-lg mb-8"},fe={class:"text-center"},ye={class:"bg-gray-100 py-3 text-xs text-gray-500 mt-10"},xe={class:"container mx-auto px-4 flex justify-between items-center"},be={class:"flex space-x-4"};function we(e,s,n,g,h,i){const w=v("Head"),k=v("Navbar"),d=v("Link"),b=v("SkillExchangeModal");return r(),a(m,null,[c(w,{title:"Welcome"}),o("div",Q,[c(k),o("main",null,[o("section",R,[o("div",T,[s[7]||(s[7]=o("h1",{class:"text-5xl font-bold mb-3"},"Swap Skills, Learn & Teach for Free!",-1)),s[8]||(s[8]=o("p",{class:"text-gray-600 mb-10"},"Exchange your expertise with others. No money involved - just knowledge sharing.",-1)),o("div",A,[o("div",D,[o("div",V,[E(o("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=t=>e.searchQuery=t),onInput:s[1]||(s[1]=(...t)=>e.updateSearch&&e.updateSearch(...t)),onFocus:s[2]||(s[2]=t=>e.showSuggestions=e.searchQuery.length>0),onBlur:s[3]||(s[3]=(...t)=>e.hideSuggestions&&e.hideSuggestions(...t)),onKeyup:s[4]||(s[4]=M((...t)=>e.searchSkills&&e.searchSkills(...t),["enter"])),placeholder:"Search skills (e.g., Graphic Design)",class:"w-full px-4 py-2 rounded border border-gray-200 focus:outline-none focus:border-gray-300 bg-white",autocomplete:"off"},null,544),[[C,e.searchQuery]]),e.showSuggestions&&e.searchSuggestions.length>0?(r(),a("div",H,[(r(!0),a(m,null,x(e.searchSuggestions,(t,l)=>(r(),a("div",{key:l,onMousedown:ke=>e.selectSuggestion(t),class:"px-4 py-2 hover:bg-gray-100 cursor-pointer"},u(t),41,I))),128))])):y("",!0)]),o("button",{onClick:s[5]||(s[5]=(...t)=>e.searchSkills&&e.searchSkills(...t)),class:"bg-black text-white px-6 py-2 rounded hover:bg-gray-800 whitespace-nowrap"}," Find Skills ")])])])]),o("section",W,[s[15]||(s[15]=o("h2",{class:"text-xl font-semibold mb-8"},"Featured Skill Swappers",-1)),e.featuredUsers.length>0?(r(),a("div",K,[(r(!0),a(m,null,x(e.featuredUsers,t=>(r(),a("div",{key:t.id,class:"bg-white rounded-lg p-6 border border-gray-100"},[o("div",O,[o("div",P,[o("div",Y,[o("div",z,[t.profile_photo_url&&!e.imageLoadErrors.has(t.id)?(r(),a("img",{key:0,src:t.profile_photo_url,alt:t.name,class:"w-full h-full object-cover",onError:l=>e.handleImageError(t.id)},null,40,G)):(r(),a("span",J,u(e.getInitials(t.name)),1))])]),o("div",null,[o("h3",X,u(t.name),1),o("p",Z,u(t.location||"Location not specified"),1)])]),o("div",ee,[o("div",se,[(r(!0),a(m,null,x(Math.min(5,Math.floor(t.rating||0)),l=>(r(),a("span",{key:l,class:"text-sm"},"★"))),128)),t.rating%1>.3&&t.rating%1<.8?(r(),a("span",te,"½")):y("",!0),(r(!0),a(m,null,x(5-Math.ceil(t.rating||0),l=>(r(),a("span",{key:l+5,class:"text-gray-300 text-sm"},"★"))),128))]),o("span",oe,u(t.rating?t.rating.toFixed(1):"New"),1)])]),o("div",re,[s[9]||(s[9]=o("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Can teach:",-1)),o("div",ae,[(r(!0),a(m,null,x(t.teaching_skills.slice(0,2),l=>(r(),a("span",{key:l.id,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},u(l.name),1))),128)),t.teaching_skills.length>2?(r(),a("span",ne," +"+u(t.teaching_skills.length-2)+" more ",1)):y("",!0),t.teaching_skills.length===0?(r(),a("span",le," No teaching skills listed ")):y("",!0)])]),o("div",ie,[s[10]||(s[10]=o("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Looking to learn:",-1)),o("div",de,[(r(!0),a(m,null,x(t.learning_skills.slice(0,2),l=>(r(),a("span",{key:l.id,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},u(l.name),1))),128)),t.learning_skills.length>2?(r(),a("span",ue," +"+u(t.learning_skills.length-2)+" more ",1)):y("",!0),t.learning_skills.length===0?(r(),a("span",ge," No learning skills listed ")):y("",!0)])]),o("div",ce,[o("div",he," Member since "+u(new Date(t.created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"})),1),o("button",{onClick:l=>e.openRequestModal(t),class:"px-4 py-2 bg-gray-900 text-white text-sm font-medium rounded-md hover:bg-gray-800"}," Request Swap ",8,me)])]))),128))])):(r(),a("div",pe,[s[13]||(s[13]=o("p",{class:"text-gray-500"},"No featured users available yet. Be the first to share your expertise!",-1)),e.$page.props.auth.user?(r(),S(d,{key:0,href:e.route("profile.edit"),class:"bg-black text-white px-4 py-2 rounded mt-4 inline-block"},{default:p(()=>s[11]||(s[11]=[f("Add Your Skills")])),_:1},8,["href"])):(r(),S(d,{key:1,href:e.route("register"),class:"bg-black text-white px-4 py-2 rounded mt-4 inline-block"},{default:p(()=>s[12]||(s[12]=[f("Sign Up to Share")])),_:1},8,["href"]))])),o("div",fe,[c(d,{href:e.route("skills.browse"),class:"bg-white border border-gray-200 text-black px-4 py-2 rounded hover:border-gray-300 hover:text-gray-900"},{default:p(()=>s[14]||(s[14]=[f("View All Skills")])),_:1},8,["href"])])]),s[16]||(s[16]=L('<section class="py-16 px-4 max-w-6xl mx-auto"><h2 class="text-2xl font-semibold text-center mb-12">How SkillSwap Works</h2><div class="grid grid-cols-1 md:grid-cols-3 gap-12"><div class="text-center"><div class="w-14 h-14 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-6"><span class="font-semibold text-lg">1</span></div><h3 class="font-semibold text-lg mb-3">List Your Skills</h3><p class="text-gray-600">Create a profile and list the skills you can teach others.</p></div><div class="text-center"><div class="w-14 h-14 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-6"><span class="font-semibold text-lg">2</span></div><h3 class="font-semibold text-lg mb-3">Find &amp; Connect</h3><p class="text-gray-600">Browse skills you want to learn and connect with potential teachers.</p></div><div class="text-center"><div class="w-14 h-14 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-6"><span class="font-semibold text-lg">3</span></div><h3 class="font-semibold text-lg mb-3">Teach &amp; Learn</h3><p class="text-gray-600">Exchange your knowledge and learn new skills through teaching others.</p></div></div></section>',1))]),o("footer",ye,[o("div",xe,[s[21]||(s[21]=o("div",null," 2025 SkillSwap. All rights reserved.",-1)),o("div",be,[c(d,{href:e.route("about"),class:"hover:underline"},{default:p(()=>s[17]||(s[17]=[f("About")])),_:1},8,["href"]),c(d,{href:e.route("terms"),class:"hover:underline"},{default:p(()=>s[18]||(s[18]=[f("Terms")])),_:1},8,["href"]),c(d,{href:e.route("privacy"),class:"hover:underline"},{default:p(()=>s[19]||(s[19]=[f("Privacy")])),_:1},8,["href"]),c(d,{href:e.route("contact"),class:"hover:underline"},{default:p(()=>s[20]||(s[20]=[f("Contact")])),_:1},8,["href"])])])])]),c(b,{show:e.showRequestModal,user:e.$page.props.auth.user,recipient:e.selectedUser,onClose:s[6]||(s[6]=t=>e.showRequestModal=!1)},null,8,["show","user","recipient"])],64)}const Me=B(F,[["render",we]]);export{Me as default};
