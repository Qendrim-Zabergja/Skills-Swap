import{x as k,y as w,q as S,f as h,o as a,w as C,d as e,h as q,k as d,u as o,c as m,F as p,A as b,t as r,G as x,v as j}from"./app-RABvWGqE.js";import{_ as M}from"./Modal-iMmTPtjx.js";const V={class:"p-6"},B={class:"flex items-center justify-between mb-6"},U={class:"space-y-4"},F=["value"],D=["value"],E={class:"grid grid-cols-2 gap-4"},R={class:"flex justify-end space-x-3"},$=["disabled"],L={class:"mt-8 p-4 bg-gray-50 rounded-lg"},W={class:"flex items-center space-x-4"},Y={class:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center text-gray-400"},A={class:"text-sm font-medium text-gray-900"},I={class:"text-sm text-gray-500"},O={class:"flex items-center mt-1"},T={class:"text-sm text-gray-600 ml-1"},N={__name:"SkillExchangeModal",props:{show:Boolean,user:Object,recipient:Object},emits:["close"],setup(i,{emit:y}){const g=i,u=y,s=k({recipient_id:"",skill_wanted:"",skill_offered:"",message:"",availability:"",duration:""});w(()=>g.recipient,n=>{n&&(s.recipient_id=n.id)},{immediate:!0});const v=S(()=>s.skill_wanted&&s.skill_offered&&s.message&&s.availability&&s.duration),f=n=>n?n.split(" ").map(t=>t[0]).join("").toUpperCase():"",c=()=>{const n={recipient_id:s.recipient_id,skill_wanted:s.skill_wanted,skill_offered:s.skill_offered,message:s.message,availability:s.availability,duration:s.duration};console.log("Submitting request:",n),s.post(route("requests.store"),{preserveScroll:!0,onSuccess:()=>{s.reset(),u("close"),window.location.reload()},onError:t=>{console.error("Form submission errors:",t)}})};return(n,t)=>(a(),h(M,{show:i.show,onClose:t[7]||(t[7]=l=>u("close")),"max-width":"2xl"},{default:C(()=>[e("div",V,[e("div",B,[t[9]||(t[9]=e("h2",{class:"text-lg font-medium text-gray-900"}," Create Skill Exchange Request ",-1)),e("button",{onClick:t[0]||(t[0]=l=>u("close")),class:"text-gray-400 hover:text-gray-500"},t[8]||(t[8]=[e("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("form",{onSubmit:q(c,["prevent"]),class:"space-y-6"},[e("div",U,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Skill You Want to Learn",-1)),d(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>o(s).skill_wanted=l),class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"},[t[10]||(t[10]=e("option",{value:""},"Select a skill you want to learn",-1)),(a(!0),m(p,null,b(i.recipient.teaching_skills,l=>(a(),m("option",{key:l.id,value:l.name},r(l.name),9,F))),128))],512),[[x,o(s).skill_wanted]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Skill You Can Teach",-1)),d(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>o(s).skill_offered=l),class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"},[t[12]||(t[12]=e("option",{value:""},"Select a skill you can teach",-1)),(a(!0),m(p,null,b(i.user.teaching_skills,l=>(a(),m("option",{key:l.id,value:l.name},r(l.name),9,D))),128))],512),[[x,o(s).skill_offered]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Your Message",-1)),d(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=l=>o(s).message=l),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm",placeholder:"Introduce yourself and explain why you're interested in this skill exchange..."},null,512),[[j,o(s).message]])]),e("div",E,[e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Availability",-1)),d(e("select",{"onUpdate:modelValue":t[4]||(t[4]=l=>o(s).availability=l),class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"},t[15]||(t[15]=[e("option",{value:""},"Select availability",-1),e("option",{value:"weekdays"},"Weekdays",-1),e("option",{value:"weekends"},"Weekends",-1),e("option",{value:"flexible"},"Flexible",-1)]),512),[[x,o(s).availability]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Session Duration",-1)),d(e("select",{"onUpdate:modelValue":t[5]||(t[5]=l=>o(s).duration=l),class:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm"},t[17]||(t[17]=[e("option",{value:""},"Select duration",-1),e("option",{value:"30"},"30 minutes",-1),e("option",{value:"60"},"1 hour",-1),e("option",{value:"90"},"1.5 hours",-1),e("option",{value:"120"},"2 hours",-1)]),512),[[x,o(s).duration]])])])]),e("div",R,[e("button",{type:"button",class:"px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",onClick:t[6]||(t[6]=l=>u("close"))}," Cancel "),e("button",{type:"submit",class:"px-4 py-2 bg-gray-900 text-white text-sm font-medium rounded-md hover:bg-gray-800",disabled:!v.value}," Send Request ",8,$)])],32),e("div",L,[t[20]||(t[20]=e("h3",{class:"text-sm font-medium text-gray-700 mb-4"},"Request Recipient",-1)),e("div",W,[e("div",Y,r(f(i.recipient.name)),1),e("div",null,[e("h4",A,r(i.recipient.name),1),e("p",I,r(i.recipient.location),1),e("div",O,[t[19]||(t[19]=e("span",{class:"text-yellow-400 text-sm"},"â˜…",-1)),e("span",T,r(i.recipient.rating)+" ("+r(i.recipient.reviews_count)+" reviews)",1)])])])])])]),_:1},8,["show"]))}};export{N as _};
